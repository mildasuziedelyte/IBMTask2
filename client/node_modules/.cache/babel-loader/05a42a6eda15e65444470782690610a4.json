{"ast":null,"code":"import _slicedToArray from\"/home/ugnius/IBM/ibm-youtube/youtube-ibm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import axios from\"axios\";// //functions\n// import {getSearched} from \"../helpers/youtubeAPI\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchContainer(_ref){var setQuery=_ref.setQuery;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),validity=_useState4[0],setValidity=_useState4[1];function handleInput(e){e.target.name===\"query\"&&setInput(e.target.value);//disabling input after 20 symbols\ninput.length>19&&e.preventDefault();}function validateInput(input){var re=/[^0-9A-Za-z, ]/;if(!input.match(re)&&input.length>0){setValidity(false);document.getElementById(\"q\").classList.remove(\"err\");setInput(\"\");return true;}else{document.getElementById(\"q\").classList.add(\"err\");setValidity(true);return false;}}function handleSubmit(){if(validateInput(input)){setQuery(input);//setting searched keyword to backend\ntry{axios.post(\"http://localhost:3001/searches\",{keyword:input});//  .then(res=>console.log(res.data)) <---- dev mode to see outcome\n}catch(err){//  console.log(err); <---- dev mode to see outcome\n}}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl w-11/12 mx-auto font-semibold mt-2 text-center\",children:\"Find your youtube video!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xl w-10/12 md:w-6/12 flex mx-auto my-3 border-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"q\",maxLength:\"20\",name:\"query\",value:input,onChange:function onChange(e){handleInput(e);},className:\"w-11/12 h-8 p-2 rounded-sm focus:outline-none focus:ring focus:border-red-300  w-4/5\",type:\"text\"}),/*#__PURE__*/_jsx(\"div\",{onClick:handleSubmit,className:\"flex items-center justify-center rounded-sm h-8 bg-blue-300 p-2 text-white font-semibold cursor-pointer\",children:\"Go\"})]}),validity&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500 mt-3\",children:\"Please check your input\"})]});}","map":{"version":3,"sources":["/home/ugnius/IBM/ibm-youtube/youtube-ibm/src/components/searchBox/SearchContainer.jsx"],"names":["React","useState","useEffect","useContext","Link","axios","SearchContainer","setQuery","input","setInput","validity","setValidity","handleInput","e","target","name","value","length","preventDefault","validateInput","re","match","document","getElementById","classList","remove","add","handleSubmit","post","keyword","err"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA;wFAEA,cAAe,SAASC,CAAAA,eAAT,MAAqC,IAAXC,CAAAA,QAAW,MAAXA,QAAW,eACvBN,QAAQ,CAAC,EAAD,CADe,wCACzCO,KADyC,eACnCC,QADmC,8BAElBR,QAAQ,CAAC,KAAD,CAFU,yCAEzCS,QAFyC,eAE/BC,WAF+B,eAKhD,QAASC,CAAAA,WAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,MAAF,CAASC,IAAT,GAAgB,OAAhB,EAA2BN,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASE,KAAV,CAAnC,CACA;AACAR,KAAK,CAACS,MAAN,CAAe,EAAf,EAAqBJ,CAAC,CAACK,cAAF,EAArB,CAEH,CAED,QAASC,CAAAA,aAAT,CAAuBX,KAAvB,CAA8B,CAC1B,GAAMY,CAAAA,EAAE,CAAE,gBAAV,CACA,GAAI,CAACZ,KAAK,CAACa,KAAN,CAAYD,EAAZ,CAAD,EAAoBZ,KAAK,CAACS,MAAN,CAAe,CAAvC,CAA0C,CACtCN,WAAW,CAAC,KAAD,CAAX,CACAW,QAAQ,CAACC,cAAT,CAAwB,GAAxB,EAA6BC,SAA7B,CAAuCC,MAAvC,CAA8C,KAA9C,EACAhB,QAAQ,CAAC,EAAD,CAAR,CACA,MAAO,KAAP,CACH,CALD,IAKO,CACHa,QAAQ,CAACC,cAAT,CAAwB,GAAxB,EAA6BC,SAA7B,CAAuCE,GAAvC,CAA2C,KAA3C,EACAf,WAAW,CAAC,IAAD,CAAX,CACA,MAAO,MAAP,CAEH,CACJ,CAED,QAASgB,CAAAA,YAAT,EAAyB,CACvB,GAAIR,aAAa,CAACX,KAAD,CAAjB,CAA0B,CACvBD,QAAQ,CAACC,KAAD,CAAR,CACA;AACA,GAAI,CACAH,KAAK,CAACuB,IAAN,CAAW,gCAAX,CAA4C,CACxCC,OAAO,CAACrB,KADgC,CAA5C,EAGD;AACF,CACD,MAAOsB,GAAP,CAAY,CACT;AACF,CACH,CACF,CAGD,mBACA,oCACJ,WAAI,SAAS,CAAC,yDAAd,sCADI,cAEA,aAAK,SAAS,CAAC,uDAAf,wBACI,cAAO,EAAE,CAAC,GAAV,CAAc,SAAS,CAAC,IAAxB,CAA6B,IAAI,CAAC,OAAlC,CAA0C,KAAK,CAAEtB,KAAjD,CAAwD,QAAQ,CAAE,kBAACK,CAAD,CAAK,CAACD,WAAW,CAACC,CAAD,CAAX,CAAe,CAAvF,CAAyF,SAAS,CAAC,sFAAnG,CAA0L,IAAI,CAAC,MAA/L,EADJ,cAGA,YAAK,OAAO,CAAEc,YAAd,CAA4B,SAAS,CAAC,yGAAtC,gBAHA,GAFA,CAUSjB,QAAQ,eAAK,UAAG,SAAS,CAAC,+BAAb,qCAVtB,GADA,CAcH","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from \"axios\"\n\n// //functions\n// import {getSearched} from \"../helpers/youtubeAPI\"\n\nexport default function SearchContainer({setQuery}) {\n    const [input,setInput] = useState(\"\");\n    const [validity, setValidity]=useState(false);   \n    \n    \n    function handleInput (e) {\n        e.target.name===\"query\" && setInput(e.target.value);\n        //disabling input after 20 symbols\n        input.length > 19 && e.preventDefault();\n     \n    }\n\n    function validateInput(input) {\n        const re= /[^0-9A-Za-z, ]/;\n        if (!input.match(re) && input.length > 0) {\n            setValidity(false);\n            document.getElementById(\"q\").classList.remove(\"err\")\n            setInput(\"\");\n            return true;\n        } else {\n            document.getElementById(\"q\").classList.add(\"err\")\n            setValidity(true);\n            return false;\n\n        }\n    }\n\n    function handleSubmit () {\n      if (validateInput(input)) {\n         setQuery(input)\n         //setting searched keyword to backend\n         try {\n             axios.post(\"http://localhost:3001/searches\",{\n                 keyword:input\n             })\n            //  .then(res=>console.log(res.data)) <---- dev mode to see outcome\n         }\n         catch (err) {\n            //  console.log(err); <---- dev mode to see outcome\n         }\n      }\n    }\n    \n\n    return (\n    <div>\n<h1 className=\"text-4xl w-11/12 mx-auto font-semibold mt-2 text-center\">Find your youtube video!</h1>\n    <div className=\"max-w-xl w-10/12 md:w-6/12 flex mx-auto my-3 border-2\">\n        <input id=\"q\" maxLength=\"20\" name=\"query\" value={input} onChange={(e)=>{handleInput(e)}} className=\"w-11/12 h-8 p-2 rounded-sm focus:outline-none focus:ring focus:border-red-300  w-4/5\" type=\"text\"/>\n\n    <div onClick={handleSubmit} className=\"flex items-center justify-center rounded-sm h-8 bg-blue-300 p-2 text-white font-semibold cursor-pointer\">Go</div>\n\n    \n    </div>\n\n            {validity && (<p className=\"text-center text-red-500 mt-3\">Please check your input</p>)}\n    </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}